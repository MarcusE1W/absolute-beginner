<!DOCTYPE html>
<html lang="" dir="ltr">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Simple syntax highlighting for the Micro editor &middot; Absolute beginner</title>
  <meta name="description" content="" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  
  
  
  
  
  <link href="https://absolute-beginner.netlify.com/css/concated.min.css" rel="stylesheet">
  
  <style>
    body {
      background: #ecedef url("https://absolute-beginner.netlify.com/flower-bg.jpg") repeat;
    }
  </style>
</head>

  <body class="single-body">
    <nav class="nav-bar side-padding">
  <h1 class="nav-header"><a href="https://absolute-beginner.netlify.com/" class="nav-text">absolute beginner</a></h1>
  <div class="hamburger-menu">
    <button onclick="hamburgerMenuPressed.call(this)" aria-haspopup="true" aria-expanded="false" aria-controls="menu" aria-label="Menu">
      <span></span>
      <span></span>
    </button>
    <ul id="menu" class="hamburger-menu-overlay">
      <li><a href="https://absolute-beginner.netlify.com/" class="hamburger-menu-overlay-link">Home</a></li>
      <li><a href="https://absolute-beginner.netlify.com/categories/desktop-environments" class="hamburger-menu-overlay-link">Desktop environments</a></li><li><a href="https://absolute-beginner.netlify.com/categories/development" class="hamburger-menu-overlay-link">Development</a></li><li><a href="https://absolute-beginner.netlify.com/categories/editor" class="hamburger-menu-overlay-link">Editor</a></li><li><a href="https://absolute-beginner.netlify.com/categories/linux" class="hamburger-menu-overlay-link">Linux</a></li><li><a href="https://absolute-beginner.netlify.com/categories/programming-languages" class="hamburger-menu-overlay-link">Programming languages</a></li><li><a href="https://absolute-beginner.netlify.com/categories/system" class="hamburger-menu-overlay-link">System</a></li>
      
    </ul>
  </div>
</nav>

    <main class="content side-text-padding">
      <article class="post dropcase">
        <header class="post-header">
        	<h1 class="post-title">Simple syntax highlighting for the Micro editor</h1>
          <p class="post-date">Posted <time datetime="2018-04-11">Apr 11, 2018</time></p>
        </header>
        
        <p>How to write a simple file for syntax highlighting for any language for the Micro editor</p>

<h1 id="language-highlighting-for-beginner">Language highlighting for beginner</h1>

<p>For a quick overview about syntax highlighting read this documentation for micro  <a href="https://github.com/zyedidia/micro/blob/master/runtime/help/colors.md">colors</a></p>

<p>This text gives a simple introduction how to build a syntax highlighting file for micro.</p>

<p>The examples of this text cut together gives a template for your own definitions.</p>

<p>Before you start you might need a list of keywords for the language you want to define. One option is to find and copy a syntax file from an other editor.However it can also be helpful to just add a few keywords, edit the symbols, get the comments right and be ready.</p>

<p>You can probably do many more clever things for your language syntax than is described in this text, but after reading this text you will be able to create a syntax file already.</p>

<h2 id="the-syntax-yaml-file">The syntax YAML file</h2>

<p>Micro syntax files are defined following the <a href="https://en.wikipedia.org/wiki/YAML">YAML</a> configuration syntax. To create a new syntax file create a new file with the ending <code>.yaml</code>.</p>

<p>To make your own syntax definition available to Micro you have to add the new syntax file in your home folder into  <code>~/.config/micro/syntax</code>.</p>

<p>If you want to comment your syntax definition then you can use <code>#</code> to mark your comments.</p>

<h2 id="file-header">File header</h2>

<p>To start some general information are needed. Most importantly the language you want to describe gets defined with <code>filetype:</code></p>

<p>The filetype gets detected by the file ending described with <code>detect:</code>. For advanced users it is also possible to check the first line of the file to determine the filetype. Replace the  values in the example with the relevant name and file ending for your new language.</p>

<p>With the <code>rules:</code> keyword the actual language description gets started. Please mind that indentation is important. Everything after <code>rules:</code> has to be indented.</p>

<p>e.g.</p>

<pre><code class="language-Yaml">filetype: Test-lang

detect:
    filename: &quot;\\.tst$&quot;

rules:
</code></pre>

<h2 id="language-keywords">Language keywords</h2>

<p>In this section you can describe the language keywords. The syntax looks a bit complex at first but you can mostly copy and paste it. There are three section:
- <code>-type :</code> defines the types of the language
- <code>statement:</code> defines the keywords of the language. YOu can cram all keywords in one statement or split them up on several statements.
- <code>special:</code> can be used to highlight certain keywords of a language in a different color to the othe rkeywords. In Ocaml the function definition is worht a special highlight. In Elixir the <code>do</code> and <code>end</code> could be useful to highlight. It is down to you if you want to use it at all and for which keywords.</p>

<p>For each of the above sections a string is defined with the relevant keywords:
e.g. <code>&quot;\\b(?i:(int|float|bool|char|string|unit))\\b&quot;</code>. To define your own profile replace the part in the inner brackets () with your own keywords.</p>

<p>e.g.</p>

<pre><code class="language-Yaml">    - type: &quot;\\b(?i:(int|float|bool|char|string|unit))\\b&quot;

    - statement: &quot;\\b(if|then|else)\\b&quot;
    - statement: &quot;\\b(for|and|or)\\b&quot;

    - special: &quot;\\b(let|rec|function|in)\\b&quot;
</code></pre>

<h2 id="operators-symbols-strings-comments">Operators, symbols, strings, comments</h2>

<h3 id="symbols-and-operators">Symbols and operators</h3>

<p>Symbols are used in many languages for different thing. That said most languages use similar symbols, so from the highlighting perspactive there is not so much difference. Below list of symbols gives you some common symbols and operators. These can be extended for you r language. There is no need to remove unused symbols. They just do not get used.</p>

<p>e.g.</p>

<pre><code class="language-Yaml">    - symbol: &quot;(\\||@|!|:|::|_|~|=|\\\\|;|\\(\\)|||\\[|\\]|\\{|\\})&quot;

    - symbol.operator: &quot;(==|/=|&amp;&amp;|\\|\\||&lt;|&gt;|&lt;=|&gt;=)&quot;
</code></pre>

<h3 id="language-constants">Language constants</h3>

<p>Language constants means words like <code>true</code> that are no statements and cannot be changed. Depending on the language there can be other constants.</p>

<p>e.g.</p>

<pre><code class="language-Yaml">    - constant: &quot;(Nothing|Just|LT|EQ|GT)&quot;

    - constant.bool: &quot;\\b(true|false)\\b&quot;
</code></pre>

<h3 id="strings">Strings</h3>

<p>Strings in most languages are within within quotation marks &ldquo; &rdquo; and characters are within singel quote &lsquo; &lsquo;. In this case you can just use the example below. The additional rule is to show additional controls in the string. e.g &ldquo;Hallo /n&rdquo; If your languages does not have that you can also write <code>rules: []</code></p>

<p>e.g.</p>

<pre><code class="language-Yaml">    - constant.string:
        start: &quot;\&quot;&quot;
        end: &quot;\&quot;&quot;
        skip: &quot;\\\\.&quot;
        rules:
            - constant.specialChar: &quot;\\\\.&quot;

    - constant.string:
        start: &quot;'&quot;
        end: &quot;'&quot;
        skip: &quot;\\\\.&quot;
        rules:
            - constant.specialChar: &quot;\\\\.&quot;
</code></pre>

<h3 id="comments">Comments</h3>

<p>Most languages have different symbols for single line and multi liine comments.</p>

<p>e.g. for a multi line comment (<em>&hellip;</em>)</p>

<pre><code class="language-Yaml">    - comment:
        start: &quot;\\(\\*&quot;
        end: &quot;\\*\\)&quot;
        rules:
            - todo: &quot;(TODO|XXX|FIXME):?&quot;
</code></pre>

<p>e.g. for a single line comment after # &hellip;</p>

<pre><code class="language-Yaml">    - comment:
        start: &quot;#&quot;
        end: &quot;$&quot;
        rules: []
</code></pre>

<p>To keep the overview in your syntax file you can and should add some comments. Single line comments in a <code>.yaml</code> file start with <code>#</code>. There are no multi line comments.</p>

<p>e.g. for a single line comment with a comment</p>

<pre><code class="language-Yaml">    # single line comment # ...
    - comment:
        start: &quot;#&quot;
        end: &quot;$&quot;
        rules: []
</code></pre>

<p>The full example with comments can be found <a href="https://github.com/MarcusE1W/hello-world/blob/master/test-syntax.yaml">here</a></p>
      </article>
      
    </main>
    <nav class="end-nav side-padding">
      
      <a ontouchstart="cardPressed.call(this)" ontouchend="cardReleased.call(this)" ontouchmove="cardReleased.call(this)" 
  href="https://absolute-beginner.netlify.com/post/qemu-start/" class="card blog-card" rel="bookmark" >
  
  <article class="card-body">
    <h2 class="card-title">A QEMU Virtual machine with a Windows host and a Linux guest</h2>
    <p class="card-text"><p>Run a (Arch)Linux system in a QEMU virtual machine on your Windows.</p></p>
    <div class="card-subtext muted-text">
      <p>Posted <time datetime="2018-03-29 329:00">Mar 29, 2018</time></p>
      <p>#System </p>
    </div>
  </article>
</a>
      
      <a ontouchstart="cardPressed.call(this)" ontouchend="cardReleased.call(this)" ontouchmove="cardReleased.call(this)" 
  href="https://absolute-beginner.netlify.com/" class="card home-card" style="background-image: url( https://absolute-beginner.netlify.com/sky.jpg )" rel="bookmark" >
  Home
</a>
    </nav>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>
  
  <script src="https://absolute-beginner.netlify.com/js/core.min.js"></script>
<script>
  hljs.initHighlightingOnLoad();
</script>

  </body>
</html>